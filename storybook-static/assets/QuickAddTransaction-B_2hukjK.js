import{j as i,r as Ct,m as d,a as B,d as sa}from"./iframe-BlPw6RHN.js";import{x as wt,a as Mt,q as xe,y as oa,z as St,b as Re,c as We,d as na}from"./useAccounts-But_qxzc.js";import{u as la}from"./useTranslation-CrzPYgp4.js";import{u as Nt,c as ia,j as ca,P as lt,a as ua,N as da,S as it}from"./use-form-ae0NiLND.js";import{a as At,u as fa,I as Fe,r as pa,T as ma}from"./TextInput-BD6MJsqd.js";import{f as ae,u as oe,a as ye,c as Ae,g as qe,B as ne,d as ya,k as Ee}from"./polymorphic-factory-0CtcYZKl.js";import{G as ct}from"./Group-VLj-LUgQ.js";import{T as je}from"./Text-CKudE1NG.js";import{U as be}from"./UnstyledButton-DT2tpwi4.js";import{u as ha}from"./Loader-CTmnaFpN.js";import{A as Da}from"./Autocomplete-B3pbZYoq.js";function dt({style:e,size:t=16,...a}){return i.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ct(t),height:Ct(t),display:"block"},...a,children:i.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}dt.displayName="@mantine/core/AccordionChevron";async function ga(){return wt("/api/categories")}const va=()=>Mt({queryKey:xe.categories(),queryFn:ga});async function ba(e){const t={description:e.description,amount:e.amount,occurredAt:e.occurredAt,categoryId:e.category?e.category.id:"",fromAccountId:e.fromAccount?e.fromAccount.id:"",toAccountId:e.toAccount?.id,vendorId:e.vendor?.id};return Pt(t)}async function Pt(e){return St("/api/transactions",e)}async function _a(e){return oa(`/api/transactions/${e}`)}const Fr=()=>{const e=Re();return We({mutationFn:_a,onSuccess:()=>{e.invalidateQueries({queryKey:xe.transactions()})}})},Or=()=>{const e=Re();return We({mutationFn:t=>ba(t),onSuccess:()=>{e.invalidateQueries({queryKey:xe.transactions()})}})},Ca=()=>{const e=Re();return We({mutationFn:t=>Pt(t),onSuccess:()=>{e.invalidateQueries({queryKey:xe.transactions()})}})};async function xa(){return wt("/api/vendors")}async function Ya(e){return St("/api/vendors",e)}const La=()=>Mt({queryKey:xe.vendors(),queryFn:()=>xa()}),ka=()=>{const e=Re();return We({mutationFn:t=>Ya(t),onSuccess:()=>{e.invalidateQueries({queryKey:xe.vendors()})}})};function wa({direction:e,levelIndex:t,rowIndex:a,cellIndex:r,size:s}){switch(e){case"up":return t===0&&a===0?null:a===0?{levelIndex:t-1,rowIndex:r<=s[t-1][s[t-1].length-1]-1?s[t-1].length-1:s[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:a-1,cellIndex:r};case"down":return a===s[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:a===s[t].length-2&&r>=s[t][s[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:a+1,cellIndex:r};case"left":return t===0&&a===0&&r===0?null:a===0&&r===0?{levelIndex:t-1,rowIndex:s[t-1].length-1,cellIndex:s[t-1][s[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:a-1,cellIndex:s[t][a-1]-1}:{levelIndex:t,rowIndex:a,cellIndex:r-1};case"right":return a===s[t].length-1&&r===s[t][a]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===s[t][a]-1?{levelIndex:t,rowIndex:a+1,cellIndex:0}:{levelIndex:t,rowIndex:a,cellIndex:r+1};default:return{levelIndex:t,rowIndex:a,cellIndex:r}}}function Tt({controlsRef:e,direction:t,levelIndex:a,rowIndex:r,cellIndex:s,size:n}){const u=wa({direction:t,size:n,rowIndex:r,cellIndex:s,levelIndex:a});if(!u)return;const l=e.current?.[u.levelIndex]?.[u.rowIndex]?.[u.cellIndex];l&&(l.disabled||l.getAttribute("data-hidden")||l.getAttribute("data-outside")?Tt({controlsRef:e,direction:t,levelIndex:u.levelIndex,cellIndex:u.cellIndex,rowIndex:u.rowIndex,size:n}):l.focus())}function Ma(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function Sa(e){return e.current?.map(t=>t.map(a=>a.length))}function pt({controlsRef:e,levelIndex:t,rowIndex:a,cellIndex:r,event:s}){const n=Ma(s.key);if(n){s.preventDefault();const u=Sa(e);Tt({controlsRef:e,direction:n,levelIndex:t,rowIndex:a,cellIndex:r,size:u})}}function ce(e){return e==null||e===""?e:d(e).format("YYYY-MM-DD")}function jt(e){return e==null||e===""?e:d(e).format("YYYY-MM-DD HH:mm:ss")}const Na={locale:"en",firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"–",consistentWeeks:!1},Aa=B.createContext(Na);function he(){const e=B.useContext(Aa),t=B.useCallback(n=>n||e.locale,[e.locale]),a=B.useCallback(n=>typeof n=="number"?n:e.firstDayOfWeek,[e.firstDayOfWeek]),r=B.useCallback(n=>Array.isArray(n)?n:e.weekendDays,[e.weekendDays]),s=B.useCallback(n=>typeof n=="string"?n:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:a,getWeekendDays:r,getLabelSeparator:s}}function Pa({value:e,type:t,withTime:a}){const r=a?jt:ce;if(t==="range"&&Array.isArray(e)){const s=r(e[0]),n=r(e[1]);return s?n?`${s} – ${n}`:`${s} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function Ft({value:e,type:t,name:a,form:r,withTime:s=!1}){return i.jsx("input",{type:"hidden",value:Pa({value:e,type:t,withTime:s}),name:a,form:r})}Ft.displayName="@mantine/dates/HiddenDatesInput";var Ot={day:"m_396ce5cb"};const Ta=Ae((e,{size:t})=>({day:{"--day-size":qe(t,"day-size")}})),mt=ae((e,t)=>{const a=oe("Day",null,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,date:p,disabled:f,__staticSelector:g,weekend:c,outside:v,selected:m,renderDay:x,inRange:Y,firstInRange:L,lastInRange:o,hidden:D,static:w,highlightToday:M,attributes:S,...O}=a,W=ye({name:g||"Day",classes:Ot,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:S,vars:y,varsResolver:Ta,rootSelector:"day"});return i.jsx(be,{...W("day",{style:D?{display:"none"}:void 0}),component:w?"div":"button",ref:t,disabled:f,"data-today":d(p).isSame(new Date,"day")||void 0,"data-hidden":D||void 0,"data-highlight-today":M||void 0,"data-disabled":f||void 0,"data-weekend":!f&&!v&&c||void 0,"data-outside":!f&&v||void 0,"data-selected":!f&&m||void 0,"data-in-range":Y&&!f||void 0,"data-first-in-range":L&&!f||void 0,"data-last-in-range":o&&!f||void 0,"data-static":w||void 0,unstyled:l,...O,children:x?.(p)||d(p).date()})});mt.classes=Ot;mt.displayName="@mantine/dates/Day";function ja({locale:e,format:t="dd",firstDayOfWeek:a=1}){const r=d().day(a),s=[];for(let n=0;n<7;n+=1)typeof t=="string"?s.push(d(r).add(n,"days").locale(e).format(t)):s.push(t(d(r).add(n,"days").format("YYYY-MM-DD")));return s}var Rt={weekday:"m_18a3eca"};const Fa=Ae((e,{size:t})=>({weekdaysRow:{"--wr-fz":Ee(t),"--wr-spacing":ya(t)}})),yt=ae((e,t)=>{const a=oe("WeekdaysRow",null,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,locale:p,firstDayOfWeek:f,weekdayFormat:g,cellComponent:c="th",__staticSelector:v,withWeekNumbers:m,attributes:x,...Y}=a,L=ye({name:v||"WeekdaysRow",classes:Rt,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:x,vars:y,varsResolver:Fa,rootSelector:"weekdaysRow"}),o=he(),D=ja({locale:o.getLocale(p),format:g,firstDayOfWeek:o.getFirstDayOfWeek(f)}).map((w,M)=>i.jsx(c,{...L("weekday"),children:w},M));return i.jsxs(ne,{component:"tr",ref:t,...L("weekdaysRow"),...Y,children:[m&&i.jsx(c,{...L("weekday"),children:"#"}),D]})});yt.classes=Rt;yt.displayName="@mantine/dates/WeekdaysRow";function Oa(e,t=1){let a=d(e);if(!a.isValid())return a;const r=t===0?6:t-1;for(;a.day()!==r;)a=a.add(1,"day");return a.format("YYYY-MM-DD")}function Ra(e,t=1){let a=d(e);for(;a.day()!==t;)a=a.subtract(1,"day");return a.format("YYYY-MM-DD")}function Wa({month:e,firstDayOfWeek:t=1,consistentWeeks:a}){const r=d(e).subtract(d(e).date()-1,"day"),s=d(r.format("YYYY-M-D")),n=s.format("YYYY-MM-DD"),u=s.add(+s.daysInMonth()-1,"day").format("YYYY-MM-DD"),l=Oa(u,t),y=[];let p=d(Ra(n,t));for(;d(p).isBefore(l,"day");){const f=[];for(let g=0;g<7;g+=1)f.push(p.format("YYYY-MM-DD")),p=p.add(1,"day");y.push(f)}if(a&&y.length<6){const f=y[y.length-1],g=f[f.length-1];let c=d(g).add(1,"day");for(;y.length<6;){const v=[];for(let m=0;m<7;m+=1)v.push(c.format("YYYY-MM-DD")),c=c.add(1,"day");y.push(v)}}return y}function ht(e,t){return d(e).format("YYYY-MM")===d(t).format("YYYY-MM")}function Wt(e,t){return t?d(e).isAfter(d(t).subtract(1,"day"),"day"):!0}function qt(e,t){return t?d(e).isBefore(d(t).add(1,"day"),"day"):!0}function qa({dates:e,minDate:t,maxDate:a,getDayProps:r,excludeDate:s,hideOutsideDates:n,month:u}){const l=e.flat().filter(f=>qt(f,a)&&Wt(f,t)&&!s?.(f)&&!r?.(f)?.disabled&&(!n||ht(f,u))),y=l.find(f=>r?.(f)?.selected);if(y)return y;const p=l.find(f=>d().isSame(f,"date"));return p||l[0]}var Oe={exports:{}},Ea=Oe.exports,xt;function Ia(){return xt||(xt=1,(function(e,t){(function(a,r){e.exports=r()})(Ea,(function(){var a="day";return function(r,s,n){var u=function(p){return p.add(4-p.isoWeekday(),a)},l=s.prototype;l.isoWeekYear=function(){return u(this).year()},l.isoWeek=function(p){if(!this.$utils().u(p))return this.add(7*(p-this.isoWeek()),a);var f,g,c,v,m=u(this),x=(f=this.isoWeekYear(),g=this.$u,c=(g?n.utc:n)().year(f).startOf("year"),v=4-c.isoWeekday(),c.isoWeekday()>4&&(v+=7),c.add(v,a));return m.diff(x,"week")+1},l.isoWeekday=function(p){return this.$utils().u(p)?this.day()||7:this.day(this.day()%7?p:p-7)};var y=l.startOf;l.startOf=function(p,f){var g=this.$utils(),c=!!g.u(f)||f;return g.p(p)==="isoweek"?c?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):y.bind(this)(p,f)}}}))})(Oe)),Oe.exports}var $a=Ia();const Va=sa($a);d.extend(Va);function Ka(e){const t=e.find(a=>d(a).day()===1);return d(t).isoWeek()}var Et={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const Ga={withCellSpacing:!0},Ba=Ae((e,{size:t})=>({weekNumber:{"--wn-fz":Ee(t),"--wn-size":qe(t,"wn-size")}})),Ie=ae((e,t)=>{const a=oe("Month",Ga,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,__staticSelector:p,locale:f,firstDayOfWeek:g,weekdayFormat:c,month:v,weekendDays:m,getDayProps:x,excludeDate:Y,minDate:L,maxDate:o,renderDay:D,hideOutsideDates:w,hideWeekdays:M,getDayAriaLabel:S,static:O,__getDayRef:W,__onDayKeyDown:q,__onDayClick:N,__onDayMouseEnter:E,__preventFocus:I,__stopPropagation:A,withCellSpacing:$,size:H,highlightToday:T,withWeekNumbers:G,attributes:_,...P}=a,b=ye({name:p||"Month",classes:Et,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:_,vars:y,varsResolver:Ba,rootSelector:"month"}),C=he(),h=Wa({month:v,firstDayOfWeek:C.getFirstDayOfWeek(g),consistentWeeks:C.consistentWeeks}),k=qa({dates:h,minDate:ce(L),maxDate:ce(o),getDayProps:x,excludeDate:Y,hideOutsideDates:w,month:v}),{resolvedClassNames:j,resolvedStyles:z}=At({classNames:r,styles:u,props:a}),Z=h.map((X,ee)=>{const ue=X.map((K,te)=>{const Q=!ht(K,v),U=S?.(K)||d(K).locale(f||C.locale).format("D MMMM YYYY"),J=x?.(K),re=d(K).isSame(k,"date");return i.jsx("td",{...b("monthCell"),"data-with-spacing":$||void 0,children:i.jsx(mt,{__staticSelector:p||"Month",classNames:j,styles:z,unstyled:l,"data-mantine-stop-propagation":A||void 0,highlightToday:T,renderDay:D,date:K,size:H,weekend:C.getWeekendDays(m).includes(d(K).get("day")),outside:Q,hidden:w?Q:!1,"aria-label":U,static:O,disabled:Y?.(K)||!qt(K,ce(o))||!Wt(K,ce(L)),ref:R=>{R&&W?.(ee,te,R)},...J,onKeyDown:R=>{J?.onKeyDown?.(R),q?.(R,{rowIndex:ee,cellIndex:te,date:K})},onMouseEnter:R=>{J?.onMouseEnter?.(R),E?.(R,K)},onClick:R=>{J?.onClick?.(R),N?.(R,K)},onMouseDown:R=>{J?.onMouseDown?.(R),I&&R.preventDefault()},tabIndex:I||!re?-1:0})},K.toString())});return i.jsxs("tr",{...b("monthRow"),children:[G&&i.jsx("td",{...b("weekNumber"),children:Ka(X)}),ue]},ee)});return i.jsxs(ne,{component:"table",...b("month"),size:H,ref:t,...P,children:[!M&&i.jsx("thead",{...b("monthThead"),children:i.jsx(yt,{__staticSelector:p||"Month",locale:f,firstDayOfWeek:g,weekdayFormat:c,size:H,classNames:j,styles:z,unstyled:l,withWeekNumbers:G})}),i.jsx("tbody",{...b("monthTbody"),children:Z})]})});Ie.classes=Et;Ie.displayName="@mantine/dates/Month";var It={pickerControl:"m_dc6a3c71"};const Ha=Ae((e,{size:t})=>({pickerControl:{"--dpc-fz":Ee(t),"--dpc-size":qe(t,"dpc-size")}})),$e=ae((e,t)=>{const a=oe("PickerControl",null,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,firstInRange:p,lastInRange:f,inRange:g,__staticSelector:c,selected:v,disabled:m,attributes:x,...Y}=a,L=ye({name:c||"PickerControl",classes:It,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:x,vars:y,varsResolver:Ha,rootSelector:"pickerControl"});return i.jsx(be,{...L("pickerControl"),ref:t,unstyled:l,"data-picker-control":!0,"data-selected":v&&!m||void 0,"data-disabled":m||void 0,"data-in-range":g&&!m&&!v||void 0,"data-first-in-range":p&&!m||void 0,"data-last-in-range":f&&!m||void 0,disabled:m,...Y})});$e.classes=It;$e.displayName="@mantine/dates/PickerControl";function $t({year:e,minDate:t,maxDate:a}){return!t&&!a?!1:!!(t&&d(e).isBefore(t,"year")||a&&d(e).isAfter(a,"year"))}function za({years:e,minDate:t,maxDate:a,getYearControlProps:r}){const s=e.flat().filter(l=>!$t({year:l,minDate:t,maxDate:a})&&!r?.(l)?.disabled),n=s.find(l=>r?.(l)?.selected);if(n)return n;const u=s.find(l=>d().isSame(l,"year"));return u||s[0]}function Vt(e){const t=d(e).year(),a=t-t%10;let r=0;const s=[[],[],[],[]];for(let n=0;n<4;n+=1){const u=n===3?1:3;for(let l=0;l<u;l+=1)s[n].push(d(new Date(a+r,0)).format("YYYY-MM-DD")),r+=1}return s}var Kt={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Qa={yearsListFormat:"YYYY",withCellSpacing:!0},Ve=ae((e,t)=>{const a=oe("YearsList",Qa,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,decade:p,yearsListFormat:f,locale:g,minDate:c,maxDate:v,getYearControlProps:m,__staticSelector:x,__getControlRef:Y,__onControlKeyDown:L,__onControlClick:o,__onControlMouseEnter:D,__preventFocus:w,__stopPropagation:M,withCellSpacing:S,size:O,attributes:W,...q}=a,N=ye({name:x||"YearsList",classes:Kt,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:W,vars:y,rootSelector:"yearsList"}),E=he(),I=Vt(p),A=za({years:I,minDate:c,maxDate:v,getYearControlProps:m}),$=I.map((H,T)=>{const G=H.map((_,P)=>{const b=m?.(_),C=d(_).isSame(A,"year");return i.jsx("td",{...N("yearsListCell"),"data-with-spacing":S||void 0,children:i.jsx($e,{...N("yearsListControl"),size:O,unstyled:l,"data-mantine-stop-propagation":M||void 0,disabled:$t({year:_,minDate:c,maxDate:v}),ref:h=>{h&&Y?.(T,P,h)},...b,onKeyDown:h=>{b?.onKeyDown?.(h),L?.(h,{rowIndex:T,cellIndex:P,date:_})},onClick:h=>{b?.onClick?.(h),o?.(h,_)},onMouseEnter:h=>{b?.onMouseEnter?.(h),D?.(h,_)},onMouseDown:h=>{b?.onMouseDown?.(h),w&&h.preventDefault()},tabIndex:w||!C?-1:0,children:b?.children??d(_).locale(E.getLocale(g)).format(f)})},P)});return i.jsx("tr",{...N("yearsListRow"),children:G},T)});return i.jsx(ne,{component:"table",ref:t,size:O,...N("yearsList"),...q,children:i.jsx("tbody",{children:$})})});Ve.classes=Kt;Ve.displayName="@mantine/dates/YearsList";function Gt({month:e,minDate:t,maxDate:a}){return!t&&!a?!1:!!(t&&d(e).isBefore(t,"month")||a&&d(e).isAfter(a,"month"))}function Ua({months:e,minDate:t,maxDate:a,getMonthControlProps:r}){const s=e.flat().filter(l=>!Gt({month:l,minDate:t,maxDate:a})&&!r?.(l)?.disabled),n=s.find(l=>r?.(l)?.selected);if(n)return n;const u=s.find(l=>d().isSame(l,"month"));return u||s[0]}function Za(e){const t=d(e).startOf("year").toDate(),a=[[],[],[],[]];let r=0;for(let s=0;s<4;s+=1)for(let n=0;n<3;n+=1)a[s].push(d(t).add(r,"months").format("YYYY-MM-DD")),r+=1;return a}var Bt={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Ja={monthsListFormat:"MMM",withCellSpacing:!0},Ke=ae((e,t)=>{const a=oe("MonthsList",Ja,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,__staticSelector:p,year:f,monthsListFormat:g,locale:c,minDate:v,maxDate:m,getMonthControlProps:x,__getControlRef:Y,__onControlKeyDown:L,__onControlClick:o,__onControlMouseEnter:D,__preventFocus:w,__stopPropagation:M,withCellSpacing:S,size:O,attributes:W,...q}=a,N=ye({name:p||"MonthsList",classes:Bt,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:W,vars:y,rootSelector:"monthsList"}),E=he(),I=Za(f),A=Ua({months:I,minDate:ce(v),maxDate:ce(m),getMonthControlProps:x}),$=I.map((H,T)=>{const G=H.map((_,P)=>{const b=x?.(_),C=d(_).isSame(A,"month");return i.jsx("td",{...N("monthsListCell"),"data-with-spacing":S||void 0,children:i.jsx($e,{...N("monthsListControl"),size:O,unstyled:l,__staticSelector:p||"MonthsList","data-mantine-stop-propagation":M||void 0,disabled:Gt({month:_,minDate:ce(v),maxDate:ce(m)}),ref:h=>{h&&Y?.(T,P,h)},...b,onKeyDown:h=>{b?.onKeyDown?.(h),L?.(h,{rowIndex:T,cellIndex:P,date:_})},onClick:h=>{b?.onClick?.(h),o?.(h,_)},onMouseEnter:h=>{b?.onMouseEnter?.(h),D?.(h,_)},onMouseDown:h=>{b?.onMouseDown?.(h),w&&h.preventDefault()},tabIndex:w||!C?-1:0,children:b?.children??d(_).locale(E.getLocale(c)).format(g)})},P)});return i.jsx("tr",{...N("monthsListRow"),children:G},T)});return i.jsx(ne,{component:"table",ref:t,size:O,...N("monthsList"),...q,children:i.jsx("tbody",{children:$})})});Ke.classes=Bt;Ke.displayName="@mantine/dates/MonthsList";var Ht={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Xa={hasNextLevel:!0,withNext:!0,withPrevious:!0,headerControlsOrder:["previous","level","next"]},er=Ae((e,{size:t})=>({calendarHeader:{"--dch-control-size":qe(t,"dch-control-size"),"--dch-fz":Ee(t)}})),De=ae((e,t)=>{const a=oe("CalendarHeader",Xa,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,nextIcon:p,previousIcon:f,nextLabel:g,previousLabel:c,onNext:v,onPrevious:m,onLevelClick:x,label:Y,nextDisabled:L,previousDisabled:o,hasNextLevel:D,levelControlAriaLabel:w,withNext:M,withPrevious:S,headerControlsOrder:O,__staticSelector:W,__preventFocus:q,__stopPropagation:N,attributes:E,...I}=a,A=ye({name:W||"CalendarHeader",classes:Ht,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:E,vars:y,varsResolver:er,rootSelector:"calendarHeader"}),$=q?P=>P.preventDefault():void 0,H=S&&B.createElement(be,{...A("calendarHeaderControl"),key:"previous","data-direction":"previous","aria-label":c,onClick:m,unstyled:l,onMouseDown:$,disabled:o,"data-disabled":o||void 0,tabIndex:q||o?-1:0,"data-mantine-stop-propagation":N||void 0},f||i.jsx(dt,{...A("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})),T=B.createElement(be,{component:D?"button":"div",...A("calendarHeaderLevel"),key:"level",onClick:D?x:void 0,unstyled:l,onMouseDown:D?$:void 0,disabled:!D,"data-static":!D||void 0,"aria-label":w,tabIndex:q||!D?-1:0,"data-mantine-stop-propagation":N||void 0},Y),G=M&&B.createElement(be,{...A("calendarHeaderControl"),key:"next","data-direction":"next","aria-label":g,onClick:v,unstyled:l,onMouseDown:$,disabled:L,"data-disabled":L||void 0,tabIndex:q||L?-1:0,"data-mantine-stop-propagation":N||void 0},p||i.jsx(dt,{...A("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})),_=O.map(P=>P==="previous"?H:P==="level"?T:P==="next"?G:null);return i.jsx(ne,{...A("calendarHeader"),ref:t,...I,children:_})});De.classes=Ht;De.displayName="@mantine/dates/CalendarHeader";function tr(e){const t=Vt(e);return[t[0][0],t[3][0]]}const ar={decadeLabelFormat:"YYYY"},Ge=ae((e,t)=>{const a=oe("DecadeLevel",ar,e),{decade:r,locale:s,minDate:n,maxDate:u,yearsListFormat:l,getYearControlProps:y,__getControlRef:p,__onControlKeyDown:f,__onControlClick:g,__onControlMouseEnter:c,withCellSpacing:v,__preventFocus:m,nextIcon:x,previousIcon:Y,nextLabel:L,previousLabel:o,onNext:D,onPrevious:w,nextDisabled:M,previousDisabled:S,levelControlAriaLabel:O,withNext:W,withPrevious:q,headerControlsOrder:N,decadeLabelFormat:E,classNames:I,styles:A,unstyled:$,__staticSelector:H,__stopPropagation:T,size:G,attributes:_,...P}=a,b=he(),[C,h]=tr(r),k={__staticSelector:H||"DecadeLevel",classNames:I,styles:A,unstyled:$,size:G,attributes:_},j=typeof M=="boolean"?M:u?!d(h).endOf("year").isBefore(u):!1,z=typeof S=="boolean"?S:n?!d(C).startOf("year").isAfter(n):!1,Z=(X,ee)=>d(X).locale(s||b.locale).format(ee);return i.jsxs(ne,{"data-decade-level":!0,size:G,ref:t,...P,children:[i.jsx(De,{label:typeof E=="function"?E(C,h):`${Z(C,E)} – ${Z(h,E)}`,__preventFocus:m,__stopPropagation:T,nextIcon:x,previousIcon:Y,nextLabel:L,previousLabel:o,onNext:D,onPrevious:w,nextDisabled:j,previousDisabled:z,hasNextLevel:!1,levelControlAriaLabel:O,withNext:W,withPrevious:q,headerControlsOrder:N,...k}),i.jsx(Ve,{decade:r,locale:s,minDate:n,maxDate:u,yearsListFormat:l,getYearControlProps:y,__getControlRef:p,__onControlKeyDown:f,__onControlClick:g,__onControlMouseEnter:c,__preventFocus:m,__stopPropagation:T,withCellSpacing:v,...k})]})});Ge.classes={...Ve.classes,...De.classes};Ge.displayName="@mantine/dates/DecadeLevel";const rr={yearLabelFormat:"YYYY"},Be=ae((e,t)=>{const a=oe("YearLevel",rr,e),{year:r,locale:s,minDate:n,maxDate:u,monthsListFormat:l,getMonthControlProps:y,__getControlRef:p,__onControlKeyDown:f,__onControlClick:g,__onControlMouseEnter:c,withCellSpacing:v,__preventFocus:m,nextIcon:x,previousIcon:Y,nextLabel:L,previousLabel:o,onNext:D,onPrevious:w,onLevelClick:M,nextDisabled:S,previousDisabled:O,hasNextLevel:W,levelControlAriaLabel:q,withNext:N,withPrevious:E,headerControlsOrder:I,yearLabelFormat:A,__staticSelector:$,__stopPropagation:H,size:T,classNames:G,styles:_,unstyled:P,attributes:b,...C}=a,h=he(),k={__staticSelector:$||"YearLevel",classNames:G,styles:_,unstyled:P,size:T,attributes:b},j=typeof S=="boolean"?S:u?!d(r).endOf("year").isBefore(u):!1,z=typeof O=="boolean"?O:n?!d(r).startOf("year").isAfter(n):!1;return i.jsxs(ne,{"data-year-level":!0,size:T,ref:t,...C,children:[i.jsx(De,{label:typeof A=="function"?A(r):d(r).locale(s||h.locale).format(A),__preventFocus:m,__stopPropagation:H,nextIcon:x,previousIcon:Y,nextLabel:L,previousLabel:o,onNext:D,onPrevious:w,onLevelClick:M,nextDisabled:j,previousDisabled:z,hasNextLevel:W,levelControlAriaLabel:q,withNext:N,withPrevious:E,headerControlsOrder:I,...k}),i.jsx(Ke,{year:r,locale:s,minDate:n,maxDate:u,monthsListFormat:l,getMonthControlProps:y,__getControlRef:p,__onControlKeyDown:f,__onControlClick:g,__onControlMouseEnter:c,__preventFocus:m,__stopPropagation:H,withCellSpacing:v,...k})]})});Be.classes={...De.classes,...Ke.classes};Be.displayName="@mantine/dates/YearLevel";const sr={monthLabelFormat:"MMMM YYYY"},He=ae((e,t)=>{const a=oe("MonthLevel",sr,e),{month:r,locale:s,firstDayOfWeek:n,weekdayFormat:u,weekendDays:l,getDayProps:y,excludeDate:p,minDate:f,maxDate:g,renderDay:c,hideOutsideDates:v,hideWeekdays:m,getDayAriaLabel:x,__getDayRef:Y,__onDayKeyDown:L,__onDayClick:o,__onDayMouseEnter:D,withCellSpacing:w,highlightToday:M,withWeekNumbers:S,__preventFocus:O,__stopPropagation:W,nextIcon:q,previousIcon:N,nextLabel:E,previousLabel:I,onNext:A,onPrevious:$,onLevelClick:H,nextDisabled:T,previousDisabled:G,hasNextLevel:_,levelControlAriaLabel:P,withNext:b,withPrevious:C,headerControlsOrder:h,monthLabelFormat:k,classNames:j,styles:z,unstyled:Z,__staticSelector:X,size:ee,static:ue,attributes:K,...te}=a,Q=he(),U={__staticSelector:X||"MonthLevel",classNames:j,styles:z,unstyled:Z,size:ee,attributes:K},J=typeof T=="boolean"?T:g?!d(r).endOf("month").isBefore(g):!1,re=typeof G=="boolean"?G:f?!d(r).startOf("month").isAfter(f):!1;return i.jsxs(ne,{"data-month-level":!0,size:ee,ref:t,...te,children:[i.jsx(De,{label:typeof k=="function"?k(r):d(r).locale(s||Q.locale).format(k),__preventFocus:O,__stopPropagation:W,nextIcon:q,previousIcon:N,nextLabel:E,previousLabel:I,onNext:A,onPrevious:$,onLevelClick:H,nextDisabled:J,previousDisabled:re,hasNextLevel:_,levelControlAriaLabel:P,withNext:b,withPrevious:C,headerControlsOrder:h,...U}),i.jsx(Ie,{month:r,locale:s,firstDayOfWeek:n,weekdayFormat:u,weekendDays:l,getDayProps:y,excludeDate:p,minDate:f,maxDate:g,renderDay:c,hideOutsideDates:v,hideWeekdays:m,getDayAriaLabel:x,__getDayRef:Y,__onDayKeyDown:L,__onDayClick:o,__onDayMouseEnter:D,__preventFocus:O,__stopPropagation:W,static:ue,withCellSpacing:w,highlightToday:M,withWeekNumbers:S,...U})]})});He.classes={...Ie.classes,...De.classes};He.displayName="@mantine/dates/MonthLevel";var zt={levelsGroup:"m_30b26e33"};const ge=ae((e,t)=>{const a=oe("LevelsGroup",null,e),{classNames:r,className:s,style:n,styles:u,unstyled:l,vars:y,__staticSelector:p,attributes:f,...g}=a,c=ye({name:p||"LevelsGroup",classes:zt,props:a,className:s,style:n,classNames:r,styles:u,unstyled:l,attributes:f,vars:y,rootSelector:"levelsGroup"});return i.jsx(ne,{ref:t,...c("levelsGroup"),...g})});ge.classes=zt;ge.displayName="@mantine/dates/LevelsGroup";const or={numberOfColumns:1},ze=ae((e,t)=>{const a=oe("DecadeLevelGroup",or,e),{decade:r,locale:s,minDate:n,maxDate:u,yearsListFormat:l,getYearControlProps:y,__onControlClick:p,__onControlMouseEnter:f,withCellSpacing:g,__preventFocus:c,nextIcon:v,previousIcon:m,nextLabel:x,previousLabel:Y,onNext:L,onPrevious:o,nextDisabled:D,previousDisabled:w,headerControlsOrder:M,classNames:S,styles:O,unstyled:W,__staticSelector:q,__stopPropagation:N,numberOfColumns:E,levelControlAriaLabel:I,decadeLabelFormat:A,size:$,vars:H,attributes:T,...G}=a,_=B.useRef([]),P=Array(E).fill(0).map((b,C)=>{const h=d(r).add(C*10,"years").format("YYYY-MM-DD");return i.jsx(Ge,{size:$,yearsListFormat:l,decade:h,withNext:C===E-1,withPrevious:C===0,decadeLabelFormat:A,__onControlClick:p,__onControlMouseEnter:f,__onControlKeyDown:(k,j)=>pt({levelIndex:C,rowIndex:j.rowIndex,cellIndex:j.cellIndex,event:k,controlsRef:_}),__getControlRef:(k,j,z)=>{Array.isArray(_.current[C])||(_.current[C]=[]),Array.isArray(_.current[C][k])||(_.current[C][k]=[]),_.current[C][k][j]=z},levelControlAriaLabel:typeof I=="function"?I(h):I,locale:s,minDate:n,maxDate:u,__preventFocus:c,__stopPropagation:N,nextIcon:v,previousIcon:m,nextLabel:x,previousLabel:Y,onNext:L,onPrevious:o,nextDisabled:D,previousDisabled:w,getYearControlProps:y,__staticSelector:q||"DecadeLevelGroup",classNames:S,styles:O,unstyled:W,withCellSpacing:g,headerControlsOrder:M,attributes:T},C)});return i.jsx(ge,{classNames:S,styles:O,__staticSelector:q||"DecadeLevelGroup",ref:t,size:$,unstyled:W,attributes:T,...G,children:P})});ze.classes={...ge.classes,...Ge.classes};ze.displayName="@mantine/dates/DecadeLevelGroup";const nr={numberOfColumns:1},Qe=ae((e,t)=>{const a=oe("YearLevelGroup",nr,e),{year:r,locale:s,minDate:n,maxDate:u,monthsListFormat:l,getMonthControlProps:y,__onControlClick:p,__onControlMouseEnter:f,withCellSpacing:g,__preventFocus:c,nextIcon:v,previousIcon:m,nextLabel:x,previousLabel:Y,onNext:L,onPrevious:o,onLevelClick:D,nextDisabled:w,previousDisabled:M,hasNextLevel:S,headerControlsOrder:O,classNames:W,styles:q,unstyled:N,__staticSelector:E,__stopPropagation:I,numberOfColumns:A,levelControlAriaLabel:$,yearLabelFormat:H,size:T,vars:G,attributes:_,...P}=a,b=B.useRef([]),C=Array(A).fill(0).map((h,k)=>{const j=d(r).add(k,"years").format("YYYY-MM-DD");return i.jsx(Be,{size:T,monthsListFormat:l,year:j,withNext:k===A-1,withPrevious:k===0,yearLabelFormat:H,__stopPropagation:I,__onControlClick:p,__onControlMouseEnter:f,__onControlKeyDown:(z,Z)=>pt({levelIndex:k,rowIndex:Z.rowIndex,cellIndex:Z.cellIndex,event:z,controlsRef:b}),__getControlRef:(z,Z,X)=>{Array.isArray(b.current[k])||(b.current[k]=[]),Array.isArray(b.current[k][z])||(b.current[k][z]=[]),b.current[k][z][Z]=X},levelControlAriaLabel:typeof $=="function"?$(j):$,locale:s,minDate:n,maxDate:u,__preventFocus:c,nextIcon:v,previousIcon:m,nextLabel:x,previousLabel:Y,onNext:L,onPrevious:o,onLevelClick:D,nextDisabled:w,previousDisabled:M,hasNextLevel:S,getMonthControlProps:y,classNames:W,styles:q,unstyled:N,__staticSelector:E||"YearLevelGroup",withCellSpacing:g,headerControlsOrder:O,attributes:_},k)});return i.jsx(ge,{classNames:W,styles:q,__staticSelector:E||"YearLevelGroup",ref:t,size:T,unstyled:N,attributes:_,...P,children:C})});Qe.classes={...Be.classes,...ge.classes};Qe.displayName="@mantine/dates/YearLevelGroup";const lr={numberOfColumns:1},Ue=ae((e,t)=>{const a=oe("MonthLevelGroup",lr,e),{month:r,locale:s,firstDayOfWeek:n,weekdayFormat:u,weekendDays:l,getDayProps:y,excludeDate:p,minDate:f,maxDate:g,renderDay:c,hideOutsideDates:v,hideWeekdays:m,getDayAriaLabel:x,__onDayClick:Y,__onDayMouseEnter:L,withCellSpacing:o,highlightToday:D,withWeekNumbers:w,__preventFocus:M,nextIcon:S,previousIcon:O,nextLabel:W,previousLabel:q,onNext:N,onPrevious:E,onLevelClick:I,nextDisabled:A,previousDisabled:$,hasNextLevel:H,headerControlsOrder:T,classNames:G,styles:_,unstyled:P,numberOfColumns:b,levelControlAriaLabel:C,monthLabelFormat:h,__staticSelector:k,__stopPropagation:j,size:z,static:Z,vars:X,attributes:ee,...ue}=a,K=B.useRef([]),te=Array(b).fill(0).map((Q,U)=>{const J=d(r).add(U,"months").format("YYYY-MM-DD");return i.jsx(He,{month:J,withNext:U===b-1,withPrevious:U===0,monthLabelFormat:h,__stopPropagation:j,__onDayClick:Y,__onDayMouseEnter:L,__onDayKeyDown:(re,R)=>pt({levelIndex:U,rowIndex:R.rowIndex,cellIndex:R.cellIndex,event:re,controlsRef:K}),__getDayRef:(re,R,fe)=>{Array.isArray(K.current[U])||(K.current[U]=[]),Array.isArray(K.current[U][re])||(K.current[U][re]=[]),K.current[U][re][R]=fe},levelControlAriaLabel:typeof C=="function"?C(J):C,locale:s,firstDayOfWeek:n,weekdayFormat:u,weekendDays:l,getDayProps:y,excludeDate:p,minDate:f,maxDate:g,renderDay:c,hideOutsideDates:v,hideWeekdays:m,getDayAriaLabel:x,__preventFocus:M,nextIcon:S,previousIcon:O,nextLabel:W,previousLabel:q,onNext:N,onPrevious:E,onLevelClick:I,nextDisabled:A,previousDisabled:$,hasNextLevel:H,classNames:G,styles:_,unstyled:P,__staticSelector:k||"MonthLevelGroup",size:z,static:Z,withCellSpacing:o,highlightToday:D,withWeekNumbers:w,headerControlsOrder:T,attributes:ee},U)});return i.jsx(ge,{classNames:G,styles:_,__staticSelector:k||"MonthLevelGroup",ref:t,size:z,attributes:ee,...ue,children:te})});Ue.classes={...ge.classes,...He.classes};Ue.displayName="@mantine/dates/MonthLevelGroup";const Yt=e=>e==="range"?[null,null]:null,Lt=(e,t)=>{const a=t?jt:ce;return Array.isArray(e)?e.map(a):a(e)};function ft({type:e,value:t,defaultValue:a,onChange:r,withTime:s=!1}){const n=B.useRef(e),[u,l,y]=Nt({value:Lt(t,s),defaultValue:Lt(a,s),finalValue:Yt(e),onChange:r});let p=u;return n.current!==e&&(n.current=e,t===void 0&&(p=a!==void 0?a:Yt(e),l(p))),[p,l,y]}function ut(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function ir(e){return e===0?"month":e===1?"year":"decade"}function Ne(e,t,a){return ir(ia(ut(e,0),ut(t,0),ut(a,2)))}const cr={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0,enableKeyboardNavigation:!0},Ze=ae((e,t)=>{const a=oe("Calendar",cr,e),{vars:r,maxLevel:s,minLevel:n,defaultLevel:u,level:l,onLevelChange:y,date:p,defaultDate:f,onDateChange:g,numberOfColumns:c,columnsToScroll:v,ariaLabels:m,nextLabel:x,previousLabel:Y,onYearSelect:L,onMonthSelect:o,onYearMouseEnter:D,onMonthMouseEnter:w,headerControlsOrder:M,__updateDateOnYearSelect:S,__updateDateOnMonthSelect:O,__setDateRef:W,__setLevelRef:q,firstDayOfWeek:N,weekdayFormat:E,weekendDays:I,getDayProps:A,excludeDate:$,renderDay:H,hideOutsideDates:T,hideWeekdays:G,getDayAriaLabel:_,monthLabelFormat:P,nextIcon:b,previousIcon:C,__onDayClick:h,__onDayMouseEnter:k,withCellSpacing:j,highlightToday:z,withWeekNumbers:Z,monthsListFormat:X,getMonthControlProps:ee,yearLabelFormat:ue,yearsListFormat:K,getYearControlProps:te,decadeLabelFormat:Q,classNames:U,styles:J,unstyled:re,minDate:R,maxDate:fe,locale:le,__staticSelector:ke,size:Pe,__preventFocus:we,__stopPropagation:Me,onNextDecade:Je,onPreviousDecade:Xe,onNextYear:et,onPreviousYear:tt,onNextMonth:F,onPreviousMonth:de,static:ie,enableKeyboardNavigation:gt,attributes:Qt,...Ut}=a,{resolvedClassNames:Zt,resolvedStyles:Jt}=At({classNames:U,styles:J,props:a}),[Se,_e]=Nt({value:l?Ne(l,n,s):void 0,defaultValue:u?Ne(u,n,s):void 0,finalValue:Ne(void 0,n,s),onChange:y}),[Xt,pe]=ft({type:"default",value:ce(p),defaultValue:ce(f),onChange:g});B.useImperativeHandle(W,()=>V=>{pe(V)}),B.useImperativeHandle(q,()=>V=>{_e(V)});const at={__staticSelector:ke||"Calendar",styles:Jt,classNames:Zt,unstyled:re,size:Pe,attributes:Qt},Ce=v||c||1,vt=new Date,ea=R&&d(vt).isAfter(R)?R:d(vt).format("YYYY-MM-DD"),me=Xt||ea,ta=()=>{const V=d(me).add(Ce,"month").format("YYYY-MM-DD");F?.(V),pe(V)},aa=()=>{const V=d(me).subtract(Ce,"month").format("YYYY-MM-DD");de?.(V),pe(V)},rt=()=>{const V=d(me).add(Ce,"year").format("YYYY-MM-DD");et?.(V),pe(V)},st=()=>{const V=d(me).subtract(Ce,"year").format("YYYY-MM-DD");tt?.(V),pe(V)},ot=()=>{const V=d(me).add(10*Ce,"year").format("YYYY-MM-DD");Je?.(V),pe(V)},nt=()=>{const V=d(me).subtract(10*Ce,"year").format("YYYY-MM-DD");Xe?.(V),pe(V)},bt=B.useRef(null);B.useEffect(()=>{if(!gt||ie)return;const V=se=>{if(!bt.current?.contains(document.activeElement))return;const Te=se.ctrlKey||se.metaKey,_t=se.shiftKey;switch(se.key){case"ArrowUp":Te&&_t?(se.preventDefault(),nt()):Te&&(se.preventDefault(),st());break;case"ArrowDown":Te&&_t?(se.preventDefault(),ot()):Te&&(se.preventDefault(),rt());break;case"y":case"Y":Se==="month"&&(se.preventDefault(),_e("year"));break}};return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[gt,ie,Se,rt,st,ot,nt]);const ra=V=>{bt.current=V,typeof t=="function"?t(V):t&&(t.current=V)};return i.jsxs(ne,{ref:ra,size:Pe,"data-calendar":!0,...Ut,children:[Se==="month"&&i.jsx(Ue,{month:me,minDate:R,maxDate:fe,firstDayOfWeek:N,weekdayFormat:E,weekendDays:I,getDayProps:A,excludeDate:$,renderDay:H,hideOutsideDates:T,hideWeekdays:G,getDayAriaLabel:_,onNext:ta,onPrevious:aa,hasNextLevel:s!=="month",onLevelClick:()=>_e("year"),numberOfColumns:c,locale:le,levelControlAriaLabel:m?.monthLevelControl,nextLabel:m?.nextMonth??x,nextIcon:b,previousLabel:m?.previousMonth??Y,previousIcon:C,monthLabelFormat:P,__onDayClick:h,__onDayMouseEnter:k,__preventFocus:we,__stopPropagation:Me,static:ie,withCellSpacing:j,highlightToday:z,withWeekNumbers:Z,headerControlsOrder:M,...at}),Se==="year"&&i.jsx(Qe,{year:me,numberOfColumns:c,minDate:R,maxDate:fe,monthsListFormat:X,getMonthControlProps:ee,locale:le,onNext:rt,onPrevious:st,hasNextLevel:s!=="month"&&s!=="year",onLevelClick:()=>_e("decade"),levelControlAriaLabel:m?.yearLevelControl,nextLabel:m?.nextYear??x,nextIcon:b,previousLabel:m?.previousYear??Y,previousIcon:C,yearLabelFormat:ue,__onControlMouseEnter:w,__onControlClick:(V,se)=>{O&&pe(se),_e(Ne("month",n,s)),o?.(se)},__preventFocus:we,__stopPropagation:Me,withCellSpacing:j,headerControlsOrder:M,...at}),Se==="decade"&&i.jsx(ze,{decade:me,minDate:R,maxDate:fe,yearsListFormat:K,getYearControlProps:te,locale:le,onNext:ot,onPrevious:nt,numberOfColumns:c,nextLabel:m?.nextDecade??x,nextIcon:b,previousLabel:m?.previousDecade??Y,previousIcon:C,decadeLabelFormat:Q,__onControlMouseEnter:D,__onControlClick:(V,se)=>{S&&pe(se),_e(Ne("year",n,s)),L?.(se)},__preventFocus:we,__stopPropagation:Me,withCellSpacing:j,headerControlsOrder:M,...at})]})});Ze.classes={...ze.classes,...Qe.classes,...Ue.classes};Ze.displayName="@mantine/dates/Calendar";function ur(e){const{maxLevel:t,minLevel:a,defaultLevel:r,level:s,onLevelChange:n,nextIcon:u,previousIcon:l,date:y,defaultDate:p,onDateChange:f,numberOfColumns:g,columnsToScroll:c,ariaLabels:v,nextLabel:m,previousLabel:x,onYearSelect:Y,onMonthSelect:L,onYearMouseEnter:o,onMonthMouseEnter:D,onNextMonth:w,onPreviousMonth:M,onNextYear:S,onPreviousYear:O,onNextDecade:W,onPreviousDecade:q,withCellSpacing:N,highlightToday:E,__updateDateOnYearSelect:I,__updateDateOnMonthSelect:A,__setDateRef:$,__setLevelRef:H,withWeekNumbers:T,headerControlsOrder:G,firstDayOfWeek:_,weekdayFormat:P,weekendDays:b,getDayProps:C,excludeDate:h,renderDay:k,hideOutsideDates:j,hideWeekdays:z,getDayAriaLabel:Z,monthLabelFormat:X,monthsListFormat:ee,getMonthControlProps:ue,yearLabelFormat:K,yearsListFormat:te,getYearControlProps:Q,decadeLabelFormat:U,allowSingleDateInRange:J,allowDeselect:re,minDate:R,maxDate:fe,locale:le,...ke}=e;return{calendarProps:{maxLevel:t,minLevel:a,defaultLevel:r,level:s,onLevelChange:n,nextIcon:u,previousIcon:l,date:y,defaultDate:p,onDateChange:f,numberOfColumns:g,columnsToScroll:c,ariaLabels:v,nextLabel:m,previousLabel:x,onYearSelect:Y,onMonthSelect:L,onYearMouseEnter:o,onMonthMouseEnter:D,onNextMonth:w,onPreviousMonth:M,onNextYear:S,onPreviousYear:O,onNextDecade:W,onPreviousDecade:q,withCellSpacing:N,highlightToday:E,__updateDateOnYearSelect:I,__updateDateOnMonthSelect:A,__setDateRef:$,withWeekNumbers:T,headerControlsOrder:G,firstDayOfWeek:_,weekdayFormat:P,weekendDays:b,getDayProps:C,excludeDate:h,renderDay:k,hideOutsideDates:j,hideWeekdays:z,getDayAriaLabel:Z,monthLabelFormat:X,monthsListFormat:ee,getMonthControlProps:ue,yearLabelFormat:K,yearsListFormat:te,getYearControlProps:Q,decadeLabelFormat:U,allowSingleDateInRange:J,allowDeselect:re,minDate:R,maxDate:fe,locale:le},others:ke}}function dr(e){if(e===null)return null;const t=new Date(e);return Number.isNaN(t.getTime())||!e?null:d(t).format("YYYY-MM-DD")}function fr({date:e,maxDate:t,minDate:a}){return!(e==null||Number.isNaN(new Date(e).getTime())||t&&d(e).isAfter(t,"date")||a&&d(e).isBefore(a,"date"))}const pr={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,size:"sm"},Dt=ae((e,t)=>{const a=fa("DateInput",pr,e),{inputProps:r,wrapperProps:s,value:n,defaultValue:u,onChange:l,clearable:y,clearButtonProps:p,popoverProps:f,getDayProps:g,locale:c,valueFormat:v,dateParser:m,minDate:x,maxDate:Y,fixOnBlur:L,onFocus:o,onBlur:D,onClick:w,onKeyDown:M,readOnly:S,name:O,form:W,rightSection:q,unstyled:N,classNames:E,styles:I,allowDeselect:A,date:$,defaultDate:H,onDateChange:T,getMonthControlProps:G,getYearControlProps:_,disabled:P,...b}=a,C=B.useRef(null),h=B.useRef(null),[k,j]=B.useState(!1),{calendarProps:z,others:Z}=ur(b),X=he(),ue=m||(F=>{const de=d(F,v,X.getLocale(c)).toDate();return Number.isNaN(de.getTime())?dr(F):d(de).format("YYYY-MM-DD")}),K=A!==void 0?A:y,te=F=>F?d(F).locale(X.getLocale(c)).format(v):"",[Q,U,J]=ft({type:"default",value:n,defaultValue:u,onChange:l}),[re,R]=ft({type:"default",value:$,defaultValue:u||H,onChange:T});B.useEffect(()=>{J&&n!==null&&R(n)},[J,n]);const[fe,le]=B.useState(te(Q));B.useEffect(()=>{le(te(Q))},[X.getLocale(c)]);const ke=F=>{const de=F.currentTarget.value;if(le(de),j(!0),de.trim()===""&&(A||y))U(null);else{const ie=ue(de);ie&&fr({date:ie,minDate:x,maxDate:Y})&&(U(ie),R(ie))}},Pe=F=>{D?.(F),j(!1),L&&le(te(Q))},we=F=>{o?.(F),j(!0)},Me=F=>{w?.(F),j(!0)},Je=F=>{F.key==="Escape"&&j(!1),M?.(F)},Xe=F=>({...g?.(F),selected:d(Q).isSame(F,"day"),onClick:de=>{g?.(F).onClick?.(de);const ie=K&&d(Q).isSame(F,"day")?null:F;U(ie),!J&&ie&&le(te(ie)),j(!1)}}),et=i.jsx(Fe.ClearButton,{onClick:()=>{U(null),!J&&le(""),j(!1)},unstyled:N,...p}),tt=y&&!!Q&&!S&&!P;return ha(()=>{Q!==void 0&&!k&&le(te(Q))},[Q]),ca(()=>j(!1),void 0,[C.current,h.current]),i.jsxs(i.Fragment,{children:[i.jsx(Fe.Wrapper,{...s,__staticSelector:"DateInput",ref:C,children:i.jsxs(lt,{opened:k,trapFocus:!1,position:"bottom-start",disabled:S||P,withRoles:!1,unstyled:N,...f,children:[i.jsx(lt.Target,{children:i.jsx(Fe,{"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:t,value:fe,onChange:ke,onBlur:Pe,onFocus:we,onClick:Me,onKeyDown:Je,readOnly:S,rightSection:q,__clearSection:et,__clearable:tt,...r,...Z,disabled:P,__staticSelector:"DateInput"})}),i.jsx(lt.Dropdown,{onMouseDown:F=>F.preventDefault(),"data-dates-dropdown":!0,ref:h,children:i.jsx(Ze,{__staticSelector:"DateInput",...z,classNames:E,styles:I,unstyled:N,__preventFocus:!0,minDate:x,maxDate:Y,locale:c,getDayProps:Xe,size:r.size,date:re,onDateChange:R,getMonthControlProps:F=>({selected:typeof Q=="string"?ht(F,Q):!1,...G?.(F)}),getYearControlProps:F=>({selected:typeof Q=="string"?d(F).isSame(Q,"year"):!1,..._?.(F)}),attributes:s.attributes})})]})}),i.jsx(Ft,{name:O,form:W,value:Q,type:"default"})]})});Dt.classes={...Fe.classes,...Ze.classes};Dt.displayName="@mantine/dates/DateInput";function mr(e){let t=e,a=!1;const r=new Set;return{getState(){return t},updateState(s){t=typeof s=="function"?s(t):s},setState(s){this.updateState(s),r.forEach(n=>n(t))},initialize(s){a||(t=s,a=!0)},subscribe(s){return r.add(s),()=>r.delete(s)}}}function yr(e){return B.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function hr(e,t,a){const r=[],s=[],n={};for(const u of e){const l=u.position||t;n[l]=n[l]||0,n[l]+=1,n[l]<=a?s.push(u):r.push(u)}return{notifications:s,queue:r}}const Dr=()=>mr({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Ye=Dr(),Rr=(e=Ye)=>yr(e);function Le(e,t){const a=e.getState(),r=t([...a.notifications,...a.queue]),s=hr(r,a.defaultPosition,a.limit);e.setState({notifications:s.notifications,queue:s.queue,limit:a.limit,defaultPosition:a.defaultPosition})}function gr(e,t=Ye){const a=e.id||pa();return Le(t,r=>e.id&&r.some(s=>s.id===e.id)?r:[...r,{...e,id:a}]),a}function vr(e,t=Ye){return Le(t,a=>a.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function br(e,t=Ye){return Le(t,a=>a.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function _r(e=Ye){Le(e,()=>[])}function Cr(e=Ye){Le(e,t=>t.slice(0,e.getState().limit))}const kt={show:gr,hide:vr,update:br,clean:_r,cleanQueue:Cr,updateState:Le},ve={input:{padding:"12px 14px",background:"#1e2433",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"#ffffff",fontSize:"14px",fontFamily:"'Sora', sans-serif",transition:"all 0.2s ease","&:focus":{borderColor:"#00d4ff",boxShadow:"0 0 0 3px rgba(0, 212, 255, 0.1)",background:"#151b26"},"&::placeholder":{color:"#5a6272"}}},xr=({onSuccess:e,defaultDate:t=new Date})=>{const{t:a}=la(),r=B.useRef(null),{data:s=[]}=na(),{data:n=[]}=va(),{data:u=[]}=La(),{mutate:l,isPending:y}=Ca(),p=ka(),[f,g]=B.useState("Outgoing"),c=ua({initialValues:{description:"",amount:"",occurredAt:t,categoryId:"",fromAccountId:"",toAccountId:"",vendorName:""},validate:{description:o=>!o||o.trim().length===0?a("transactions.quickAddTransaction.error.description.required"):o.length>255?a("transactions.quickAddTransaction.error.description.maxLength"):null,amount:o=>o===""?a("transactions.quickAddTransaction.error.amount.required"):o<=0?a("transactions.quickAddTransaction.error.amount.greaterThanZero"):null,occurredAt:o=>o?null:a("transactions.quickAddTransaction.error.occurredAt.required"),fromAccountId:o=>o?null:a("transactions.quickAddTransaction.error.fromAccount.required"),categoryId:o=>o?null:a("transactions.quickAddTransaction.error.category.required")}}),v=c.onSubmit(async o=>{let D;if(o.vendorName.trim()){const M=u.find(S=>S.name.toLowerCase()===o.vendorName.toLowerCase());M?D=M?.id:D=(await p.mutateAsync({name:o.vendorName.trim()})).id}const w={description:o.description.trim(),amount:Math.round(Number(o.amount)*100),occurredAt:o.occurredAt.toISOString().split("T")[0],categoryId:o.categoryId,fromAccountId:o.fromAccountId,toAccountId:o.toAccountId,vendorId:D};l(w,{onSuccess:()=>{kt.show({title:a("common.success"),message:a("transactions.quickAddTransaction.success"),color:"green"}),c.reset(),setTimeout(()=>r.current?.focus(),100),e?.()},onError:M=>{kt.show({title:a("common.error"),message:M.message||a("transactions.quickAddTransaction.error.create"),color:"red"})}})}),m=o=>{c.setFieldValue("vendorName",o),setTimeout(()=>r.current?.focus(),100)},x=o=>{(o.ctrlKey||o.metaKey)&&o.key==="Enter"&&(o.preventDefault(),v()),o.key==="Escape"&&(o.preventDefault(),c.reset(),r.current?.focus())};B.useEffect(()=>{r.current?.focus()},[]);const Y=u.slice(0,4),L=o=>{c.setFieldValue("categoryId",o||"");const D=n.find(w=>w.id===o);D&&g(D.categoryType)};return i.jsxs(ne,{style:{background:"#151b26",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"24px",marginBottom:"32px",boxShadow:"0 4px 16px rgba(0, 212, 255, 0.08)"},children:[i.jsxs(ct,{justify:"space-between",mb:"md",children:[i.jsxs(ct,{gap:"sm",children:[i.jsx(je,{style:{fontSize:"20px"},children:"⚡"}),i.jsx(je,{fw:700,size:"md",style:{color:"#ffffff"},children:a("transactions.quickAddTransaction.title")})]}),i.jsx(je,{size:"xs",style:{color:"#5a6272",fontFamily:"'JetBrains Mono', monospace"},className:"quick-add-hint",children:a("transactions.quickAddTransaction.hint")})]}),i.jsx("form",{onSubmit:v,onKeyDown:x,children:i.jsxs(ne,{style:{display:"grid",gridTemplateColumns:"140px 2fr 120px 1fr 1fr 1fr 48px",gap:"8px",alignItems:"flex-start"},className:"form-row",children:[i.jsx(Dt,{placeholder:a("transactions.quickAddTransaction.date.placeholder"),value:c.values.occurredAt,onChange:o=>c.setFieldValue("occurredAt",o),error:c.errors.occurredAt,valueFormat:"YYYY-MM-DD",styles:ve}),i.jsx(ma,{ref:r,placeholder:a("transactions.quickAddTransaction.description.placeholder"),value:c.values.description,onChange:o=>c.setFieldValue("description",o.currentTarget.value),error:c.errors.description,styles:ve}),i.jsx(da,{placeholder:"0.00",value:c.values.amount,onChange:o=>c.setFieldValue("amount",o===""?"":Number(o)),error:c.errors.amount,decimalScale:2,fixedDecimalScale:!0,hideControls:!0,styles:ve}),i.jsx(it,{placeholder:a("transactions.quickAddTransaction.fromAccount.placeholder"),value:c.values.fromAccountId,onChange:o=>c.setFieldValue("fromAccountId",o||""),data:s.map(o=>({value:o.id,label:`${o.icon} ${o.name}`})),error:c.errors.fromAccountId,searchable:!0,styles:ve}),f==="Transfer"&&i.jsx(it,{placeholder:a("transactions.quickAddTransaction.toAccount.placeholder"),value:c.values.toAccountId,onChange:o=>c.setFieldValue("toAccountId",o||""),data:s.map(o=>({value:o.id,label:`${o.icon} ${o.name}`})),error:c.errors.toAccountId,searchable:!0,styles:ve}),i.jsx(it,{placeholder:a("transactions.quickAddTransaction.category.placeholder"),value:c.values.categoryId,onChange:L,data:n.map(o=>({value:o.id,label:`${o.icon} ${o.name}`})),error:c.errors.categoryId,searchable:!0,styles:ve}),f!=="Transfer"&&i.jsx(Da,{placeholder:a("transactions.quickAddTransaction.vendor.placeholder"),value:c.values.vendorName,data:(u||[]).map(o=>o.name),onChange:o=>c.setFieldValue("vendorName",o),styles:ve}),i.jsx(be,{type:"submit",disabled:y,"aria-label":"plus",style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #00d4ff 0%, #b47aff 100%)",border:"none",borderRadius:"12px",color:"white",fontSize:"24px",fontWeight:700,cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 212, 255, 0.3)",opacity:y?.7:1},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-2px)",o.currentTarget.style.boxShadow="0 6px 16px rgba(0, 212, 255, 0.4)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="0 4px 12px rgba(0, 212, 255, 0.3)"},children:i.jsx("span",{children:"+"})})]})}),Y.length>0&&i.jsx(ne,{mt:"md",pt:"md",style:{borderTop:"1px solid rgba(255, 255, 255, 0.06)"},children:i.jsxs(ct,{gap:"sm",wrap:"wrap",children:[i.jsxs(je,{size:"xs",fw:600,tt:"uppercase",style:{color:"#5a6272",letterSpacing:"0.05em"},children:[a("transactions.quickAddTransaction.recent"),":"]}),Y.map(o=>i.jsx(be,{onClick:()=>m(o.name),style:{padding:"6px 12px",background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.06)",borderRadius:"8px",fontSize:"13px",color:"#8892a6",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:D=>{D.currentTarget.style.background="rgba(0, 212, 255, 0.1)",D.currentTarget.style.borderColor="#00d4ff",D.currentTarget.style.color="#00d4ff",D.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:D=>{D.currentTarget.style.background="rgba(255, 255, 255, 0.03)",D.currentTarget.style.borderColor="rgba(255, 255, 255, 0.06)",D.currentTarget.style.color="#8892a6",D.currentTarget.style.transform="translateY(0)"},children:o.name},o.id))]})})]})};xr.__docgenInfo={description:"",methods:[],displayName:"QuickAddTransaction",props:{onSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},defaultDate:{required:!1,tsType:{name:"Date"},description:"",defaultValue:{value:"new Date()",computed:!1}}}};export{xr as Q,Fr as a,Or as b,Ya as c,Rr as d,kt as e,xa as f,vr as h,Ye as n,va as u};
