import{a as te,j as t}from"./iframe-BlPw6RHN.js";import{d as se,a as ne,b as w}from"./TextInput-BD6MJsqd.js";import{f as le,u as ae}from"./polymorphic-factory-0CtcYZKl.js";import{k as re,l as ce,u as pe,m as ie,n as a,o as de}from"./use-form-ae0NiLND.js";const x=le((D,S)=>{const d=ae("Autocomplete",null,D),{classNames:g,styles:y,unstyled:r,vars:ue,dropdownOpened:_,defaultDropdownOpened:v,onDropdownClose:A,onDropdownOpen:F,onFocus:j,onBlur:k,onClick:B,onChange:N,data:P,value:E,defaultValue:V,selectFirstOptionOnChange:c,selectFirstOptionOnDropdownOpen:I,onOptionSubmit:T,comboboxProps:L,readOnly:s,disabled:p,filter:R,limit:z,withScrollArea:H,maxDropdownHeight:M,size:u,id:U,renderOption:W,autoComplete:$,scrollAreaProps:q,onClear:G,clearButtonProps:J,error:K,clearable:Q,rightSection:X,autoSelectOnBlur:m,openOnFocus:Y=!0,attributes:b,...n}=d,O=se(U),f=re(P),Z=ce(f),[l,ee]=pe({value:E,defaultValue:V,finalValue:"",onChange:N}),e=ie({opened:_,defaultOpened:v,onDropdownOpen:()=>{F?.(),I&&e.selectFirstOption()},onDropdownClose:()=>{A?.(),setTimeout(e.resetSelectedOption,0)}}),i=o=>{ee(o),e.resetSelectedOption()},{resolvedClassNames:C,resolvedStyles:h}=ne({props:d,styles:y,classNames:g});te.useEffect(()=>{c&&e.selectFirstOption()},[c,l]);const oe=t.jsx(a.ClearButton,{...J,onClear:()=>{i(""),G?.()}});return t.jsxs(a,{store:e,__staticSelector:"Autocomplete",classNames:C,styles:h,unstyled:r,readOnly:s,size:u,attributes:b,keepMounted:m,onOptionSubmit:o=>{T?.(o),i(Z[o].label),e.closeDropdown()},...L,children:[t.jsx(a.Target,{autoComplete:$,children:t.jsx(w,{ref:S,...n,size:u,__staticSelector:"Autocomplete",__clearSection:oe,__clearable:Q&&!!l&&!p&&!s,rightSection:X,disabled:p,readOnly:s,value:l,error:K,onChange:o=>{i(o.currentTarget.value),e.openDropdown(),c&&e.selectFirstOption()},onFocus:o=>{Y&&e.openDropdown(),j?.(o)},onBlur:o=>{m&&e.clickSelectedOption(),e.closeDropdown(),k?.(o)},onClick:o=>{e.openDropdown(),B?.(o)},classNames:C,styles:h,unstyled:r,attributes:b,id:O})}),t.jsx(de,{data:f,hidden:s||p,filter:R,search:l,limit:z,hiddenWhenEmpty:!0,withScrollArea:H,maxDropdownHeight:M,unstyled:r,labelId:n.label?`${O}-label`:void 0,"aria-label":n.label?void 0:n["aria-label"],renderOption:W,scrollAreaProps:q})]})});x.classes={...w.classes,...a.classes};x.displayName="@mantine/core/Autocomplete";export{x as A};
