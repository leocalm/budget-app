import{a as n,M as h,f as S}from"./iframe-BlPw6RHN.js";import{n as w}from"./noop-BjFrJKj1.js";import{u as C}from"./UnstyledButton-DT2tpwi4.js";function p(r,e){return C("(prefers-color-scheme: dark)",r==="dark",e)?"dark":"light"}function s(r){const e=document.createElement("style");return e.setAttribute("data-mantine-styles","inline"),e.innerHTML="*, *::before, *::after {transition: none !important;}",e.setAttribute("data-mantine-disable-transition","true"),r&&e.setAttribute("nonce",r),document.head.appendChild(e),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(t=>t.remove())}function M({keepTransitions:r}={}){const e=n.useRef(w),o=n.useRef(-1),t=n.useContext(h),u=S(),a=n.useRef(u?.());if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");const c=f=>{t.setColorScheme(f),e.current=r?()=>{}:s(a.current),window.clearTimeout(o.current),o.current=window.setTimeout(()=>{e.current?.()},10)},l=()=>{t.clearColorScheme(),e.current=r?()=>{}:s(a.current),window.clearTimeout(o.current),o.current=window.setTimeout(()=>{e.current?.()},10)},m=p("light",{getInitialValueInEffect:!1}),i=t.colorScheme==="auto"?m:t.colorScheme,d=n.useCallback(()=>c(i==="light"?"dark":"light"),[c,i]);return n.useEffect(()=>()=>{e.current?.(),window.clearTimeout(o.current)},[]),{colorScheme:t.colorScheme,setColorScheme:c,clearColorScheme:l,toggleColorScheme:d}}export{M as u};
